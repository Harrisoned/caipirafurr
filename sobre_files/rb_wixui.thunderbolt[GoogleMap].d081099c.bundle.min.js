!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[GoogleMap]",["react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[GoogleMap]"]=t(require("react")):e["rb_wixui.thunderbolt[GoogleMap]"]=t(e.React)}("undefined"!=typeof self?self:this,(function(e){return function(){var t={40841:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},5329:function(t){"use strict";t.exports=e},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},66820:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/";var o={};return function(){"use strict";r.r(o),r.d(o,{components:function(){return P}});var e=r(448),t=r.n(e),n=r(5329),a=r(40841),i=r.n(a);const l=(...e)=>e.map((e=>`wixui-${e}`)).join(" "),s=()=>"undefined"!=typeof window;var u={root:"google-map"},c=r(66820),p=r.n(c);function d(){const e=n.useRef([]);return[n.useCallback((()=>new Promise((t=>e.current.push(t)))),[]),n.useCallback((t=>{e.current.forEach((e=>e(t))),e.current.length=0}),[])]}const f=(e,t)=>{if(e||t)return t?{path:e,fillColor:t,strokeColor:t,fillOpacity:1,scale:.5}:(e=>{if(e&&e.endsWith(".webp"))try{const t=e.match(/media\/[^/]+/)[0].split(".")[1];e=e.replace(/.webp$/,"."+t)}catch(e){}return e})(e)};var g="load",m="message",v="SET_INITIAL_LOCATIONS",y="SET_CENTER",M="CENTER_UPDATED",h="SET_CENTER_FINISHED",E="SET_ZOOM",b="ZOOM_UPDATED",S="SET_ZOOM_FINISHED",w="MARKER_CLICKED",C="MAP_CLICKED",O="GET_MARKERS",_="MARKERS";const x=["longitude","latitude"];function k(e,r,o){let a=o.onUpdateZoom,i=o.onUpdateCenter,l=o.onMarkerClicked,u=o.onMapClicked;const c=d(),k=c[0],N=c[1],j=d(),R=j[0],L=j[1],D=d(),T=D[0],P=D[1],A=(0,n.useState)(!1),G=A[0],I=A[1],U=(0,n.useMemo)((()=>(e=>t()({},e,{locations:e.locations.map((e=>t()({},e,{icon:f(e.pinIcon,e.pinColor)})))}))(r)),[r]),F=function(e,t){void 0===t&&(t=null);const r=(0,n.useRef)(t);return(0,n.useEffect)((()=>{r.current=e}),[e]),r.current}(G?U:null),J={[h]:()=>N(),[M]:e=>null==i?void 0:i(e),[S]:()=>L(),[b]:e=>null==a?void 0:a({zoom:e}),[w]:e=>null==l?void 0:l(t()({type:"markerClicked"},e)),[C]:e=>{let n=e.longitude,r=e.latitude,o=p()(e,x);return null==u?void 0:u(t()({type:"mapClicked",location:{longitude:n,latitude:r}},o))},[_]:e=>P(e)},K={[g]:e=>{(0,e._sendMessage)({type:v,data:JSON.stringify(U)}),I(!0)},[m]:e=>{let t=e.event;if("string"==typeof t.payload){var n;const e=JSON.parse(t.payload),r=e.type,o=e.data;null==(n=J[r])||n.call(J,o)}}},Z=function(e){let t=e.reducer,r=void 0===t?()=>({}):t,o=e.iframeLoaded;const a=(0,n.useRef)([]),i=(0,n.useRef)(void 0),l=(0,n.useRef)(void 0),u=(0,n.useRef)(void 0),c=(0,n.useCallback)((e=>{if(i.current&&o){const t=i.current.contentWindow;return void(null==t||t.postMessage(e,"*"))}if(!i.current||!l.current)return void a.current.push(e);const t=i.current.contentWindow;null==t||t.postMessage(e,"*")}),[o]),p=(0,n.useCallback)((()=>{0!==a.current.length&&(a.current.forEach(c),a.current=[])}),[c]),d=(0,n.useCallback)((e=>{if(u.current&&(u.current(),u.current=void 0),!e)return;const t=()=>{l.current=!0,p(),r({type:"load"},c)};e.addEventListener("load",t),i.current=e,u.current=()=>{e.removeEventListener("load",t)}}),[r,c,p]);return(0,n.useEffect)((()=>{o&&p()}),[o,p]),(0,n.useEffect)((()=>{if(!s())return;const e=e=>{var t;e.source&&e.source!==(null==(t=i.current)?void 0:t.contentWindow)||r({type:"message",payload:e.data},c)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[r,c]),[d,c]}({reducer:(e,t)=>{var n;return null==(n=K[e.type])?void 0:n.call(K,{event:e,_sendMessage:t})}}),W=Z[0],z=Z[1];return(0,n.useImperativeHandle)(e,(()=>({setMapCenter:(e,t)=>{const n=k();return z({type:y,data:JSON.stringify({longitude:e,latitude:t})}),n},setMapZoom:e=>{const t=R();return z({type:E,data:e}),t},getVisibleMarkers:()=>{const e=T();return z({type:O}),e}}))),(0,n.useEffect)((()=>{if(G){const r=!!F&&(e=U.locations,n=F.locations,e.length===n.length&&e.every(((e,t)=>{const r=Object.keys(e);return r.length===Object.keys(n[t]).length&&r.every((r=>e[r]===n[t][r]))})));z(JSON.stringify(t()({},U,{shouldKeepMarkers:r})))}var e,n}),[U,F,z,G]),[W]}var N={GoogleMapSkin:"azCDHJ",googleMapSkin:"azCDHJ",mapContainer:"UXiAup",GoogleMapDefault:"gzNVjA",googleMapDefault:"gzNVjA",GoogleMapSloppy:"FiDpOP",googleMapSloppy:"FiDpOP",brd:"vWE6wc",one:"dj3FJn",two:"W_nooy",GoogleMapLiftedShadow:"e4y5ni",googleMapLiftedShadow:"e4y5ni",shd:"up3Bvs",left:"h0JKNn",right:"uaUROu"};const j={GoogleMapLiftedShadow:()=>n.createElement(n.Fragment,null,n.createElement("div",{className:i()(N.left,N.shd)}),n.createElement("div",{className:i()(N.right,N.shd)})),GoogleMapSloppy:()=>n.createElement(n.Fragment,null,n.createElement("div",{className:i()(N.brd,N.one)}),n.createElement("div",{className:i()(N.brd,N.two)})),GoogleMapSkin:()=>n.createElement(n.Fragment,null),GoogleMapDefault:()=>n.createElement(n.Fragment,null)};var R=r.p+"media/googleMap.4be2d908.html",L=r.p+"media/google-map.min.7bf10e47.js";const D=e=>e.replace("https://static.parastorage.com/services/","https://editor.wix.com/_partials/"),T=(e,r)=>{const o=e.id,a=e.className,c=e.customClassNames,p=void 0===c?[]:c,d=e.skin,f=e.urlQueries,g=e.mapData,m=e.translate,v=e.onUpdateCenter,y=e.onUpdateZoom,M=e.onMarkerClicked,h=e.onMapClicked,E=e.onMouseEnter,b=e.onMouseLeave,S=e.isDesignerMode,w=j[d],C=((e,t)=>{const n=t?D(L):L,r=new URLSearchParams({googleMapsScriptPath:new URL(n).pathname});return s()&&r.append("origin",window.origin),(t?D(R):R)+"?"+e+"&"+r})(f,S),O=n.useState(!1),_=O[0],x=O[1],T=k(r,g,{onUpdateCenter:v,onUpdateZoom:y,onMarkerClicked:M,onMapClicked:h})[0];n.useEffect((()=>{x(!0)}),[C]);const P=m("component_label","COMPONENT_LABEL_googleMapsTitle","Google Map");return n.createElement("div",t()({id:o},(e=>Object.entries(e).reduce(((e,t)=>{let n=t[0],r=t[1];return n.includes("data-")&&(e[n]=r),e}),{}))(e),{tabIndex:0,className:i()(N[d],N.wixIframe,a,l(u.root,...p))}),_&&n.createElement("wix-iframe",{title:P,"aria-label":P,"data-src":C},n.createElement(w,null),n.createElement("div",{id:"mapContainer_"+o,onMouseEnter:E,onMouseLeave:b,className:N.mapContainer},n.createElement("iframe",{ref:T,title:P,"aria-label":P,"data-src":C,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allowFullScreen:!0}))))};const P={GoogleMap:{component:n.forwardRef(T)}}}(),o}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[GoogleMap].d081099c.bundle.min.js.map